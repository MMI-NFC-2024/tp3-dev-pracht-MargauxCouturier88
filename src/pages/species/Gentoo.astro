---
import PlotFigure from "../../components/PlotFigure.astro";
import Layout from "../../layouts/Layout.astro";
import * as Plot from "@observablehq/plot";
import penguins from "../../assets/penguins.json";

const  penguinsGentoo = penguins.filter(({species})=>species==="Gentoo")

---

<Layout>

<div class="bg-gray-400 text-black p-4 rounded-1xl shadow-lg">
  <h1 class="text-xl font-bold mb-3">MENU</h1>
  <nav class="flex gap-4">
    
      <select id="species">
    <option value="Adelie">Adelie</option>
    <option value="Chinstrap">Chinstrap</option>
    <option value="Gentoo">Gentoo</option>
    </select>
    <script>
        document.querySelector("#species")?.addEventListener("change", (evt) => {
        const value = (evt.target as HTMLSelectElement).value;
        location.pathname = "/species/" + value;
        });
    </script>

    <a href="test-iframe" 
       class="px-3 py-2 rounded-lg hover:bg-gray-700 transition">
      Etape 2 (iframe)
    </a>

    <a href="/" 
       class="px-3 py-2 rounded-lg hover:bg-gray-700 transition">
      Retour
    </a>
  </nav>
</div>

  <h1 class="text-5xl text-center mb-8">Penguins Gentoo</h1>

  <div class="flex gap-2 overflow-x-auto scroll-smooth">
    <div class="min-w-full" id="Gentoo">
      <h3 class="text-3xl"></h3>
      <PlotFigure
    options={{
      marks: [
        Plot.dot(penguinsGentoo, {
          x: "culmen_length_mm",
          y: "culmen_depth_mm",
          stroke: "species",
        }),
      ],
    }}
  />
    </div>
   
</Layout>
